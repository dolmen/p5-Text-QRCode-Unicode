use utf8;
use strict;
use warnings;

use Test::More tests => 2;

use Text::QRCode::Unicode ();

my $ref_default = <<'EOF';
████████████████▌
████████████████▌
██▗▄▄▐▜▐▞▞▐▗▄▄▐█▌
██▐ ▐▐▀▜▝▜▟▐ ▐▐█▌
██▐▄▟▐▘▛▀▀▟▐▄▟▐█▌
██▄▄▄▟▞▝▟▐▐▄▄▄▟█▌
██▗▖▐▄▄▚▀█▙▌▙▌██▌
██▘▚▝▄▐▟▘▖▀▝▚▙▐█▌
██▐▚▗▟▙▟▟▄ ▞▞▖▟█▌
██▐▚▖▞▐▖▟▚▝▄▖▙▐█▌
██▟▟▄▄▗▙▀▀▗▄▝▐██▌
██▗▄▄▐▞▜▘▟▐▟ ▖▟█▌
██▐ ▐▐▝▜▟▖▖ ▗▝▐█▌
██▐▄▟▐ ▘▟▀▜▌▀▟▐█▌
██▄▄▄▟▟▄███▄▄▄▟█▌
████████████████▌
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▘
EOF

is(
    join("\n", @{ Text::QRCode::Unicode->new->lines('http://slashdot.org') })."\n",
    $ref_default,
    'http://slashdot.org - default options'
);

my $ref_wide = <<'EOF';
█████████████████████████████████
█████████████████████████████████
████ ▄▄▄▄▄ █▀█ █▄▀▄▀ █ ▄▄▄▄▄ ████
████ █   █ █▀▀▀█ ▀▀█▄█ █   █ ████
████ █▄▄▄█ █▀ █▀▀▀▀▀▄█ █▄▄▄█ ████
████▄▄▄▄▄▄▄█▄▀ ▀▄█ █ █▄▄▄▄▄▄▄████
████ ▄▄  █▄▄▄▄▀▄▀▀███▄█ █▄█ █████
████▀ ▀▄ ▀▄▄ █▄█▀ ▄ ▀▀ ▀▀▄█▄ ████
████ █▀▄ ▄▄██▄▄█▄█▄▄  ▄▀▄▀▄ ▄████
████ █▀▄▄ ▄▀ █▄ ▄█▀▄ ▀▄▄▄ █▄ ████
████▄█▄█▄▄▄▄ ▄█▄▀▀▀▀ ▄▄▄ ▀ ██████
████ ▄▄▄▄▄ █▄▀▀█▀ ▄█ █▄█  ▄ ▄████
████ █   █ █ ▀▀█▄█▄ ▄    ▄ ▀ ████
████ █▄▄▄█ █  ▀ ▄█▀▀▀██ ▀▀▄█ ████
████▄▄▄▄▄▄▄█▄█▄▄██████▄▄▄▄▄▄▄████
█████████████████████████████████
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
EOF

is(
    join("\n", @{ Text::QRCode::Unicode->new(narrow => 0)->lines('http://slashdot.org') })."\n",
    $ref_wide,
    'http://slashdot.org - wide'
);

